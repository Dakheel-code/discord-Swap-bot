# ููุฎุต ุงูุชุบููุฑุงุช - ุฃูุงูุฑ Move ู Hold

## โ ุชู ุฅูุฌุงุฒู

### ุงูุชุบููุฑ ุงูุฑุฆูุณู
ุชู ุชุนุฏูู ุฃูุงูุฑ `/move` ู `/hold` ู `/include` ูููุชุงุจุฉ ูู:
- **ุงูุตูุญุฉ:** `Master_CSV` (ุจุฏูุงู ูู DiscordMap)
- **ุงูุนููุฏ:** `E` (Action)

---

## ๐ ุงูุชูุงุตูู

### 1. ุฃูุฑ `/move`
- **ุงููุธููุฉ:** ููู ูุงุนุจ ุฅูู ููุงู ูุญุฏุฏ
- **ุงููุชุงุจุฉ:** ุงุณู ุงูููุงู (RGR, OTL, RND) ูู ุนููุฏ E
- **ูุซุงู:** `/move player:@Ahmed clan:RGR` โ ููุชุจ "RGR" ูู ุนููุฏ E

### 2. ุฃูุฑ `/hold`
- **ุงููุธููุฉ:** ุงุณุชุซูุงุก ูุงุนุจ ูู ุงูุชูุฒูุน
- **ุงููุชุงุจุฉ:** "Hold" ูู ุนููุฏ E
- **ูุซุงู:** `/hold player:@Sara` โ ููุชุจ "Hold" ูู ุนููุฏ E

### 3. ุฃูุฑ `/include`
- **ุงููุธููุฉ:** ุฅุนุงุฏุฉ ูุงุนุจ ููุชูุฒูุน
- **ุงููุชุงุจุฉ:** ููุณุญ ุนููุฏ E (ูุตุจุญ ูุงุฑุบุงู)
- **ูุซุงู:** `/include player:@Sara` โ ููุณุญ ูุญุชูู ุนููุฏ E

---

## ๐ง ุงููููุงุช ุงููุนุฏูุฉ

### 1. `src/sheets.js`
**ุงูุฏูุงู ุงููุนุฏูุฉ:**
- โ `writePlayerAction()` - ุชูุชุจ ูู Master_CSV!E ุจุฏูุงู ูู DiscordMap!C
- โ `clearPlayerAction()` - ุชูุณุญ ูู Master_CSV!E ุจุฏูุงู ูู DiscordMap!C

**ุงูุชุบููุฑุงุช:**
- ุชุบููุฑ ุงูุตูุญุฉ ูู `DiscordMap` ุฅูู `Master_CSV`
- ุชุบููุฑ ุงูุนููุฏ ูู `C` ุฅูู `E`
- ุชุญุณูู ุฑุณุงุฆู ุงูุฎุทุฃ ูุงูุชุดุฎูุต

### 2. `src/bot.js`
**ุงูุชุญุฏูุซุงุช:**
- โ ุฑุณุงุฆู ุงููุฌุงุญ ุชุดูุฑ ุฅูู Master_CSV ุนููุฏ E
- โ ุฑุณุงุฆู `/move`: "Updated in Master_CSV sheet (Column E: Action)"
- โ ุฑุณุงุฆู `/hold`: "Updated in Master_CSV sheet (Column E: Action = 'Hold')"
- โ ุฑุณุงุฆู `/include`: "Cleared Column E in Master_CSV sheet"

### 3. `.env.example`
**ุงูุชุญุฏูุซุงุช:**
- โ `GOOGLE_SHEET_RANGE=Master_CSV!A:Z` (ุจุฏูุงู ูู Sheet1!A:Z)
- โ ููุงุญุธุงุช ุชูุถูุญูุฉ ุนู ูุชุทูุจุงุช Service Account
- โ ุฅุถุงูุฉ `SEASON_NUMBER`

---

## ๐ ูุชุทูุจุงุช ุตูุญุฉ Master_CSV

ูุฌุจ ุฃู ุชุญุชูู ุนูู ุงูุฃุนูุฏุฉ ุงูุชุงููุฉ:

| ุงูุนููุฏ | ุงูุงุณู | ุงููุตู | ูุทููุจ |
|--------|-------|-------|-------|
| A | Player_ID | ูุนุฑู ุงููุงุนุจ | โ |
| B | Discord-ID | ูุนุฑู Discord | โ |
| C | Name | ุงุณู ุงููุงุนุจ | โ |
| D | Trophies | ุงูููุงุท | โ |
| **E** | **Action** | **ุนููุฏ ุงูุฅุฌุฑุงุกุงุช** | โ |

---

## ๐ฏ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุงูุฅุนุฏุงุฏ ุงูุฃููู:

1. **ุชุญุฏูุซ ููู .env:**
```env
GOOGLE_SHEET_RANGE=Master_CSV!A:Z
GOOGLE_SERVICE_ACCOUNT_PATH=./credentials.json
```

2. **ุงูุชุฃูุฏ ูู ุตูุญุฉ Master_CSV:**
- ุงูุชุญ Google Sheet
- ุชุฃูุฏ ูู ูุฌูุฏ ุตูุญุฉ "Master_CSV"
- ุชุญูู ูู ุงูุฃุนูุฏุฉ A-E

3. **ุฅุนุงุฏุฉ ุชุดุบูู ุงูุจูุช:**
```bash
npm start
```

### ุงุณุชุฎุฏุงู ุงูุฃูุงูุฑ:

```bash
# ููู ูุงุนุจ
/move player:@Ahmed clan:RGR

# ุงุณุชุซูุงุก ูุงุนุจ
/hold player:@Sara

# ุฅุนุงุฏุฉ ูุงุนุจ
/include player:@Sara

# ุนุฑุถ ุงูุชูุฒูุน
/show

# ุชูุฒูุน ุชููุงุฆู
/swap season:157
```

---

## ๐ ุฃูุซูุฉ ุงููุชุงุฆุฌ

### ูู Google Sheet (Master_CSV):

**ูุจู ุงูุฃูุงูุฑ:**
| Player_ID | Discord-ID | Name  | Trophies | Action |
|-----------|------------|-------|----------|--------|
| P001      | 123...     | Ahmed | 5000     |        |
| P002      | 456...     | Sara  | 4800     |        |
| P003      | 789...     | Ali   | 4500     |        |

**ุจุนุฏ `/move player:@Ahmed clan:RGR`:**
| Player_ID | Discord-ID | Name  | Trophies | Action |
|-----------|------------|-------|----------|--------|
| P001      | 123...     | Ahmed | 5000     | **RGR** |
| P002      | 456...     | Sara  | 4800     |        |
| P003      | 789...     | Ali   | 4500     |        |

**ุจุนุฏ `/hold player:@Sara`:**
| Player_ID | Discord-ID | Name  | Trophies | Action |
|-----------|------------|-------|----------|--------|
| P001      | 123...     | Ahmed | 5000     | RGR    |
| P002      | 456...     | Sara  | 4800     | **Hold** |
| P003      | 789...     | Ali   | 4500     |        |

**ุจุนุฏ `/include player:@Sara`:**
| Player_ID | Discord-ID | Name  | Trophies | Action |
|-----------|------------|-------|----------|--------|
| P001      | 123...     | Ahmed | 5000     | RGR    |
| P002      | 456...     | Sara  | 4800     |        |
| P003      | 789...     | Ali   | 4500     |        |

---

## โ ูุงุฆูุฉ ุงูุชุญูู

ูุจู ุงุณุชุฎุฏุงู ุงูุฃูุงูุฑุ ุชุฃูุฏ ูู:

- [ ] ููู `.env` ูุญุฏุซ ุจู `GOOGLE_SHEET_RANGE=Master_CSV!A:Z`
- [ ] Service Account ููุนุฏ ููุฏูู ุตูุงุญูุงุช ุงููุชุงุจุฉ
- [ ] ุตูุญุฉ `Master_CSV` ููุฌูุฏุฉ ูู Google Sheet
- [ ] ุนููุฏ Discord-ID ููุฌูุฏ ููุญุชูู ุนูู Discord IDs ุตุญูุญุฉ
- [ ] ุนููุฏ Action (E) ููุฌูุฏ
- [ ] ุงูุจูุช ุชู ุฅุนุงุฏุฉ ุชุดุบููู ุจุนุฏ ุงูุชุนุฏููุงุช

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฎุทุฃ: "No data found in Master_CSV sheet"
**ุงูุญู:** ุชุฃูุฏ ูู ุฃู ุงุณู ุงูุตูุญุฉ ูู `Master_CSV` ุจุงูุถุจุท

### ุฎุทุฃ: "Discord-ID column not found"
**ุงูุญู:** ุฃุถู ุนููุฏ Discord-ID ูู ุตูุญุฉ Master_CSV

### ุฎุทุฃ: "Player with Discord ID not found"
**ุงูุญู:** ุงุณุชุฎุฏู `/map` ูุฑุจุท ุงููุงุนุจ ุฃููุงู

### ุฎุทุฃ: "Write access not available"
**ุงูุญู:** ุชุญูู ูู Service Account ูุตูุงุญูุงุชู

---

## ๐ ูููุงุช ุงูุชูุซูู

ุชู ุฅูุดุงุก ุงููููุงุช ุงูุชุงููุฉ:

1. **CHANGELOG_MOVE_HOLD.md** - ุณุฌู ุงูุชุบููุฑุงุช ุงูุชูุตููู
2. **MOVE_HOLD_GUIDE_AR.md** - ุฏููู ุงูุงุณุชุฎุฏุงู ุงููุงูู ุจุงูุนุฑุจูุฉ
3. **TESTING_GUIDE.md** - ุฏููู ุงูุงุฎุชุจุงุฑ
4. **SUMMARY_AR.md** - ูุฐุง ุงูููู (ุงูููุฎุต)

---

## ๐ ุงูุฎูุงุตุฉ

ุชู ุชุนุฏูู ุฃูุงูุฑ `/move` ู `/hold` ู `/include` ุจูุฌุงุญ ููุนูู ูุน:
- โ ุตูุญุฉ **Master_CSV**
- โ ุนููุฏ **E (Action)**
- โ ุฑุณุงุฆู ูุงุถุญุฉ ููููุฏุฉ
- โ ุชูุซูู ุดุงูู ุจุงูุนุฑุจูุฉ

**ุฌุงูุฒ ููุงุณุชุฎุฏุงู!** ๐

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** 7 ุฏูุณูุจุฑ 2025  
**ุงูุฅุตุฏุงุฑ:** 2.0
