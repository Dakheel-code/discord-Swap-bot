# ุฅุตูุงุญ ูุดููุฉ ุงูุฅุฑุณุงู ุงูุชููุงุฆู (Auto-Send Fix)
**ุงูุชุงุฑูุฎ:** 26 ุฏูุณูุจุฑ 2024

## ๐ ุงููุดููุฉ

ุนูุฏ ุฌุฏููุฉ ุฑุณุงูุฉ ูุน ุชูุนูู Auto-Sendุ ูู ูุชู ุฅุฑุณุงู ุงูุฑุณุงูุฉ ุชููุงุฆูุงู ุนูุฏ ุญุฏูุซ ุชุบููุฑุงุช ูู ุงูุจูุงูุงุช.

## ๐ฏ ุงูุณุจุจ ุงูุฌุฐุฑู

**ุงููุดููุฉ ุงูุฑุฆูุณูุฉ:** ูุชุฑุฉ ุงููุญุต ูุงูุช ุทูููุฉ ุฌุฏุงู (5 ุฏูุงุฆู)

### ุงูุชูุงุตูู:
1. **Schedule Checker Interval:** ูุงู ูุนูู ูู 5 ุฏูุงุฆู (300000 ms)
2. **ูุงูุฐุฉ ุงูุชูููุฐ:** 5 ุฏูุงุฆู - ุทูููุฉ ุฌุฏุงู ูุงูุชุดุงู ุงูุชุบููุฑุงุช ุจุณุฑุนุฉ
3. **ุงูุชุฃุซูุฑ:** 
   - ุชุฃุฎูุฑ ูู ุงูุชุดุงู ุชุบููุฑุงุช ุงูุจูุงูุงุช
   - ูุฏ ูููุช ุงูุชุบููุฑุงุช ุงูุชู ุชุญุฏุซ ุจูู ุงููุญูุตุงุช
   - ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุฆุฉ (ุงูุชุธุงุฑ ุทููู)

## โ ุงูุญู ุงููุทุจู

### ุชุบููุฑ ูุชุฑุฉ ุงููุญุต ูู 5 ุฏูุงุฆู ุฅูู 30 ุซุงููุฉ

#### ุงูุชุนุฏููุงุช ูู `src/bot.js`:

**1. ุชุญุฏูุซ `startScheduleChecker()`:**
```javascript
// ูุจู ุงูุฅุตูุงุญ:
this.scheduleCheckInterval = setInterval(async () => {
  await this.checkAndExecuteSchedule();
}, 300000); // 5 minutes

// ุจุนุฏ ุงูุฅุตูุงุญ:
this.scheduleCheckInterval = setInterval(async () => {
  await this.checkAndExecuteSchedule();
}, 30000); // 30 seconds
```

**2. ุชุญุฏูุซ ูุงูุฐุฉ ุงูุชูููุฐ:**
```javascript
// ูุจู ุงูุฅุตูุงุญ:
if (timeDiff <= 0 && timeDiff > -300000) { // 5 minutes

// ุจุนุฏ ุงูุฅุตูุงุญ:
if (timeDiff <= 0 && timeDiff > -30000) { // 30 seconds
```

**3. ุชุญุฏูุซ ูุงูุฐุฉ ุงูุชูุธูู:**
```javascript
// ูุจู ุงูุฅุตูุงุญ:
} else if (timeDiff <= -300000) { // More than 5 minutes late

// ุจุนุฏ ุงูุฅุตูุงุญ:
} else if (timeDiff <= -30000) { // More than 30 seconds late
```

**4. ุชุญุฏูุซ ุฑุณุงุฆู ุงููุณุชุฎุฏู:**
- ุฑุณุงูุฉ Auto-Send: `'Every 30 seconds'` ุจุฏูุงู ูู `'Every 5 minutes'`
- ุฑุณุงูุฉ ุงูุฌุฏููุฉ ุงูุนุงุฏูุฉ: `'The schedule checker runs every 30 seconds'`

## ๐ ุงูููุงุฑูุฉ

| ุงููุนูุงุฑ | ูุจู ุงูุฅุตูุงุญ | ุจุนุฏ ุงูุฅุตูุงุญ |
|---------|-------------|-------------|
| **ูุชุฑุฉ ุงููุญุต** | 5 ุฏูุงุฆู | 30 ุซุงููุฉ |
| **ุณุฑุนุฉ ุงูุงุณุชุฌุงุจุฉ** | ุจุทูุฆุฉ | ุณุฑูุนุฉ ุฌุฏุงู |
| **ุฏูุฉ ุงูุชูููุช** | ยฑ5 ุฏูุงุฆู | ยฑ30 ุซุงููุฉ |
| **ุงูุชุดุงู ุงูุชุบููุฑุงุช** | ูุชุฃุฎุฑ | ููุฑู ุชูุฑูุจุงู |
| **ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู** | ุถุนููุฉ | ููุชุงุฒุฉ |

## ๐ฏ ุงูููุงุฆุฏ

### 1. **ุงุณุชุฌุงุจุฉ ุฃุณุฑุน:**
- ุงูุชุดุงู ุงูุชุบููุฑุงุช ุฎูุงู 30 ุซุงููุฉ ุจุฏูุงู ูู 5 ุฏูุงุฆู
- ุฅุฑุณุงู ุชููุงุฆู ููุฑู ุนูุฏ ุชุญุฏูุซ ุงูุจูุงูุงุช

### 2. **ุฏูุฉ ุฃุนูู:**
- ูุงูุฐุฉ ุชูููุฐ ุฃุตุบุฑ (ยฑ30 ุซุงููุฉ)
- ุงุญุชูุงููุฉ ุฃูู ูุชูููุช ุงูุชุบููุฑุงุช

### 3. **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถู:**
- ุดุนูุฑ ุจุงูุงุณุชุฌุงุจุฉ ุงูููุฑูุฉ
- ุซูุฉ ุฃูุจุฑ ูู ุงููุธุงู

### 4. **ููุซูููุฉ ูุญุณููุฉ:**
- ูุญุต ูุชูุฑุฑ ูุถูู ุนุฏู ุชูููุช ุฃู ุชุบููุฑ
- ุชูุธูู ุฃุณุฑุน ููุฌุฏููุงุช ุงูููุชููุฉ

## ๐ ููู ูุนูู ุงูุขู

### ูุถุน Auto-Send:

1. **ุฅูุดุงุก ุงูุฌุฏููุฉ:**
   ```
   /schedule โ Select channel โ Set time โ Enable Auto-Send (yes)
   ```

2. **ุฃุฎุฐ Snapshot:**
   - ูุชู ุฃุฎุฐ snapshot ูู ุงูุจูุงูุงุช ุงูุญุงููุฉ ุนูุฏ ุฅูุดุงุก ุงูุฌุฏููุฉ
   - ููุญูุธ ูู ุงูุฐุงูุฑุฉ ูููุทุฉ ูุฑุฌุนูุฉ

3. **ุจุฏุก ุงููุฑุงูุจุฉ:**
   - ุนูุฏ ุงููุตูู ููููุช ุงููุญุฏุฏุ ูุชู ุชูุนูู ูุถุน Auto-Send
   - ุงููุญุต ูู 30 ุซุงููุฉ

4. **ุงูุชุดุงู ุงูุชุบููุฑุงุช:**
   - ููุงุฑูุฉ ุงูุจูุงูุงุช ุงูุญุงููุฉ ูุน ุงูู snapshot
   - ูุชู ูุญุต ุงูุฃุนูุฏุฉ B, C, D ููุท (ูุชุฌุงูู E - Action)

5. **ุงูุฅุฑุณุงู ุงูุชููุงุฆู:**
   - ุนูุฏ ุงูุชุดุงู ุชุบููุฑุ ูุชู ุฅุฑุณุงู ุงูุชูุฒูุน ููุฑุงู
   - ุชุญุฏูุซ ุงูู snapshot ููููุงุฑูุฉ ุงูุชุงููุฉ

### ุงูุฌุฏููุฉ ุงูุนุงุฏูุฉ:

1. **ุฅูุดุงุก ุงูุฌุฏููุฉ:**
   ```
   /schedule โ Select channel โ Set time โ Auto-Send (no)
   ```

2. **ุงูุงูุชุธุงุฑ:**
   - ุงููุญุต ูู 30 ุซุงููุฉ

3. **ุงูุฅุฑุณุงู:**
   - ุนูุฏ ุงููุตูู ููููุช ุงููุญุฏุฏ (ยฑ30 ุซุงููุฉ)
   - ุฅุฑุณุงู ูุฑุฉ ูุงุญุฏุฉ ุซู ุญุฐู ุงูุฌุฏููุฉ

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุณููุงุฑูู 1: Auto-Send ูุน ุชุบููุฑุงุช ููุฑูุฉ
```
1. /schedule โ tomorrow 03:30 โ yes
2. ุงูุชุธุฑ ุญุชู 03:30
3. ุบููุฑ ุจูุงูุงุช ูู ุงูุดูุช
4. ุงููุชูุฌุฉ: ุฅุฑุณุงู ุฎูุงู 30 ุซุงููุฉ โ
```

### ุณููุงุฑูู 2: ุฌุฏููุฉ ุนุงุฏูุฉ
```
1. /schedule โ today 14:00 โ no
2. ุงูุชุธุฑ ุญุชู 14:00
3. ุงููุชูุฌุฉ: ุฅุฑุณุงู ุนูุฏ 14:00 (ยฑ30 ุซุงููุฉ) โ
```

### ุณููุงุฑูู 3: ุฅุนุงุฏุฉ ุชุดุบูู ุงูุจูุช
```
1. ุฅูุดุงุก ุฌุฏููุฉ
2. ุฅุนุงุฏุฉ ุชุดุบูู ุงูุจูุช
3. ุงููุชูุฌุฉ: ุงุณุชุฑุฌุงุน ุงูุฌุฏููุฉ ูุชูุนูู ุงููุญุต โ
```

## โก ุงูุฃุฏุงุก

### ุงุณุชููุงู ุงูููุงุฑุฏ:
- **CPU:** ููุฎูุถ ุฌุฏุงู (ูุญุต ุจุณูุท ูู 30 ุซุงููุฉ)
- **Memory:** ุซุงุจุช (snapshot ูุงุญุฏ ููุท)
- **Network:** ุนูุฏ ุงูุญุงุฌุฉ ููุท (ุนูุฏ ุงูุชุดุงู ุชุบููุฑ)

### ุงูุชุฃุซูุฑ ุนูู Railway:
- ูุง ููุฌุฏ ุชุฃุซูุฑ ุณูุจู
- ุงููุญุต ูู 30 ุซุงููุฉ ุฎููู ุฌุฏุงู
- ูุง ูุชุณุจุจ ูู ุงุณุชููุงู ุฒุงุฆุฏ ููููุงุฑุฏ

## ๐ ููุงุญุธุงุช ูููุฉ

### 1. **ุงูุชูููุช:**
- ุฌููุน ุงูุฃููุงุช ุจุชูููุช UTC
- ุงูุฏูุฉ: ยฑ30 ุซุงููุฉ

### 2. **ุงูู Snapshot:**
- ูุชู ุฃุฎุฐู ุนูุฏ **ุฅูุดุงุก ุงูุฌุฏููุฉ** ูููุณ ุนูุฏ ุจุฏุก ุงููุฑุงูุจุฉ
- ููุญูุธ ูู ุงูุฐุงูุฑุฉ ููุท (ููููุฏ ุนูุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู)

### 3. **ุงูุฃุนูุฏุฉ ุงููุฑุงูุจุฉ:**
- B: Discord-Name
- C: Trophies
- D: Clan
- **ูุชุฌุงูู E (Action)** - ูุชุฌูุจ ุงูุฅุฑุณุงู ุนูุฏ ุงุณุชุฎุฏุงู /move ุฃู /hold

### 4. **ุฅุนุงุฏุฉ ุงูุชุดุบูู:**
- ุงูุฌุฏููุฉ ุชูุณุชุฑุฌุน ูู `schedule.json`
- ุงูู snapshot ููููุฏ - ุณูุชู ุฅูุดุงุก ูุงุญุฏ ุฌุฏูุฏ ุนูุฏ ุฃูู ูุญุต

## ๐ ุงูุงุณุชุฎุฏุงู

### ุฅูุดุงุก Auto-Send:
```
/schedule
โ Select channel: #swap
โ Click "Set Date & Time"
โ Date: 2024-12-27
โ Time: 03:30
โ Auto-Send: yes
โ Submit
```

### ูุฑุงูุจุฉ ุงูุฌุฏููุฉ:
```
/schedule โ View current schedule
```

### ุฅูุบุงุก ุงูุฌุฏููุฉ:
```
/schedule โ Cancel Schedule
```

## ๐ง ุงููููุงุช ุงููุนุฏูุฉ

- `src/bot.js` - ุชุญุฏูุซ ูุชุฑุงุช ุงููุญุต ูุงูููุงูุฐ ุงูุฒูููุฉ

## โ ุงูุฎูุงุตุฉ

ุชู ุฅุตูุงุญ ูุดููุฉ ุงูุฅุฑุณุงู ุงูุชููุงุฆู ุจูุฌุงุญ ูู ุฎูุงู:
- โ ุชูููู ูุชุฑุฉ ุงููุญุต ูู 5 ุฏูุงุฆู ุฅูู 30 ุซุงููุฉ
- โ ุชุญุณูู ุฏูุฉ ุงูุชูููุช (ยฑ30 ุซุงููุฉ)
- โ ุงุณุชุฌุงุจุฉ ุฃุณุฑุน ูุชุบููุฑุงุช ุงูุจูุงูุงุช
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณููุฉ
- โ ููุซูููุฉ ุฃุนูู

**ุงููุธุงู ุงูุขู ูุนูู ุจููุงุกุฉ ุนุงููุฉ ูุณุฑุนุฉ ุงุณุชุฌุงุจุฉ ููุชุงุฒุฉ! ๐**
