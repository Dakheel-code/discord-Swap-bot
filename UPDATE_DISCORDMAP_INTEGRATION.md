# ุชุญุฏูุซ: ุฏูุฌ DiscordMap ูุน Master_CSV

## ุงูุชุงุฑูุฎ: 7 ุฏูุณูุจุฑ 2025 - 11:05 PM

## ุงููุดููุฉ ุงูุชู ุชู ุญููุง

ูุงูุช ุฃูุงูุฑ `/move` ู `/hold` ุชุจุญุซ ูุจุงุดุฑุฉ ูู `Master_CSV` ุจุงุณุชุฎุฏุงู Discord IDุ ููู ุจูุงูุงุช ุงููุงุนุจูู ููุฌูุฏุฉ ูู ุตูุญุฉ `DiscordMap`.

**ุงูุฎุทุฃ ุงูุณุงุจู:**
```
โ Move Failed
Failed:
โข idakheel (Player not found: 691802404244422688)
```

---

## ุงูุญู ุงููุทุจู

### ุขููุฉ ุงูุนูู ุงูุฌุฏูุฏุฉ (ุฎุทูุชูู):

#### ุงูุฎุทูุฉ 1: ุงูุจุญุซ ูู DiscordMap
- ูุจุญุซ ุนู Discord ID ูู ุตูุญุฉ `DiscordMap` (ุนููุฏ B)
- ูุญุตู ุนูู `Ingame-ID` ูู ุนููุฏ A

#### ุงูุฎุทูุฉ 2: ุงููุชุงุจุฉ ูู Master_CSV
- ูุจุญุซ ุนู `Ingame-ID` ูู ุตูุญุฉ `Master_CSV` (ุนููุฏ A)
- ููุชุจ ูู ุนููุฏ E (Action)

---

## ูููู ุงูุตูุญุงุช ุงููุทููุจ

### ุตูุญุฉ DiscordMap
| A (Ingame-ID) | B (Discord-ID) | C (Action) |
|---------------|----------------|------------|
| idakheel      | 691802404244422688 | |
| player2       | 123456789012345678 | |

### ุตูุญุฉ Master_CSV
| A (Player_ID) | B | C | D | E (Action) |
|---------------|---|---|---|------------|
| idakheel      | ... | ... | ... | |
| player2       | ... | ... | ... | |

**ููุงุญุธุฉ:** ุนููุฏ A ูู ููุง ุงูุตูุญุชูู ูุฌุจ ุฃู ูุญุชูู ุนูู ููุณ ุงููููุฉ (Ingame-ID)

---

## ุงูุชุนุฏููุงุช ูู ุงูููุฏ

### 1. ุฏุงูุฉ `writePlayerAction()`

**ูุจู:**
```javascript
// ูุงูุช ุชุจุญุซ ูุจุงุดุฑุฉ ูู Master_CSV ุจุงุณุชุฎุฏุงู Discord ID
const response = await sheetsClient.spreadsheets.values.get({
  range: 'Master_CSV!A:Z',
});
// ุงูุจุญุซ ุนู Discord ID ูู Master_CSV
```

**ุจุนุฏ:**
```javascript
// ุฎุทูุฉ 1: ุงูุจุญุซ ูู DiscordMap
const discordMapResponse = await sheetsClient.spreadsheets.values.get({
  range: 'DiscordMap!A:C',
});
// ุงูุญุตูู ุนูู Ingame-ID

// ุฎุทูุฉ 2: ุงูุจุญุซ ูู Master_CSV ุจุงุณุชุฎุฏุงู Ingame-ID
const masterResponse = await sheetsClient.spreadsheets.values.get({
  range: 'Master_CSV!A:Z',
});
// ุงููุชุงุจุฉ ูู ุนููุฏ E
```

### 2. ุฏุงูุฉ `clearPlayerAction()`

ุชู ุชุทุจูู ููุณ ุงูููุทู (ุฎุทูุชูู).

---

## ุณุฌูุงุช Console ุงูุฌุฏูุฏุฉ

### ุนูุฏ ูุฌุงุญ `/move`:
```
๐ Step 1: Searching for Discord ID: "691802404244422688" in DiscordMap
๐ DiscordMap: 150 rows
โ Found in DiscordMap: Ingame-ID="idakheel", Discord-ID="691802404244422688"

๐ Step 2: Searching for Ingame-ID: "idakheel" in Master_CSV
๐ Master_CSV: 150 rows
๐ Headers: Player_ID | Name | Trophies | Clan | Action
โ Found Player-ID column at index 0 (Player_ID)
Row 1: Player-ID="idakheel" | Full row: idakheel | Ahmed | 5000 | RGR | 
โ Found player at row 42 in Master_CSV

โ Updated Action for Ingame-ID "idakheel" (Discord ID: 691802404244422688) to "RGR" at Master_CSV!E42
```

---

## ุฑุณุงุฆู ุงูุฎุทุฃ ุงููุญุณููุฉ

### ุฅุฐุง ูู ููุนุซุฑ ุนูู ุงููุงุนุจ ูู DiscordMap:
```
โ Player not found: Discord ID "691802404244422688" not found in DiscordMap sheet.
Please use /map command to link this player first.
```

### ุฅุฐุง ูู ููุนุซุฑ ุนูู ุงููุงุนุจ ูู Master_CSV:
```
โ Player with Ingame-ID "idakheel" not found in Master_CSV.
First 10 Player IDs: Row 1: player1, Row 2: player2, ...
Total rows: 150
```

---

## ุงูุฃูุงูุฑ ุงููุชุฃุซุฑุฉ

โ `/move` - ูุนูู ุงูุขู ุจุดูู ุตุญูุญ  
โ `/hold` - ูุนูู ุงูุขู ุจุดูู ุตุญูุญ  
โ `/include` - ูุนูู ุงูุขู ุจุดูู ุตุญูุญ  

---

## ูุชุทูุจุงุช ุงูุงุณุชุฎุฏุงู

### 1. ุตูุญุฉ DiscordMap ูุฌุจ ุฃู ุชุญุชูู ุนูู:
- **ุนููุฏ A:** Ingame-ID (ุงุณู ุงููุงุนุจ ูู ุงููุนุจุฉ)
- **ุนููุฏ B:** Discord-ID (ูุนุฑู Discord ุงูุฑููู)
- **ุนููุฏ C:** Action (ุงุฎุชูุงุฑู)

### 2. ุตูุญุฉ Master_CSV ูุฌุจ ุฃู ุชุญุชูู ุนูู:
- **ุนููุฏ A:** Player_ID ุฃู Ingame-ID (ููุณ ุงููููุฉ ูู DiscordMap ุนููุฏ A)
- **ุนููุฏ E:** Action (ููุง ุชููุชุจ ุงูุฃูุงูุฑ)

### 3. ุฑุจุท ุงููุงุนุจูู:
ุงุณุชุฎุฏู ุฃูุฑ `/map` ูุฑุจุท ุงููุงุนุจูู:
```
/map ingame_id:idakheel discord_id:@Dakheel
```

---

## ุงุฎุชุจุงุฑ ุงูุชุญุฏูุซ

### ุงุฎุชุจุงุฑ 1: ููู ูุงุนุจ
```
/move player:@Dakheel clan:RGR
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุงูุจุญุซ ูู DiscordMap ุนู Discord ID
- โ ุงูุญุตูู ุนูู Ingame-ID
- โ ุงูุจุญุซ ูู Master_CSV ุนู Ingame-ID
- โ ุงููุชุงุจุฉ ูู ุนููุฏ E: "RGR"

### ุงุฎุชุจุงุฑ 2: ุงุณุชุซูุงุก ูุงุนุจ
```
/hold player:@Dakheel
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ููุณ ุงูุฎุทูุงุช
- โ ุงููุชุงุจุฉ ูู ุนููุฏ E: "Hold"

### ุงุฎุชุจุงุฑ 3: ุฅุนุงุฏุฉ ูุงุนุจ
```
/include player:@Dakheel
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ููุณ ุงูุฎุทูุงุช
- โ ูุณุญ ุนููุฏ E

---

## ุงูููุงุฆุฏ

1. โ **ูุฑููุฉ ุฃูุจุฑ:** ูููู ุงุณุชุฎุฏุงู ุฃู ุงุณู ูู Master_CSV
2. โ **ุฏูุฉ ุฃุนูู:** ุงูุจุญุซ ุจุฎุทูุชูู ูุถูู ุงูุนุซูุฑ ุนูู ุงููุงุนุจ ุงูุตุญูุญ
3. โ **ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ:** ุชุญุฏุฏ ุจุงูุถุจุท ุฃูู ุงููุดููุฉ
4. โ **ุชูุงูู ูุน ุงููููู ุงูุญุงูู:** ูุนูู ูุน DiscordMap ุงูููุฌูุฏ

---

## ููุงุญุธุงุช ูููุฉ

โ๏ธ **ุงูุชุฃูุฏ ูู ุงูุชุทุงุจู:**
- ูููุฉ ุนููุฏ A ูู DiscordMap ูุฌุจ ุฃู ุชุทุงุจู ูููุฉ ุนููุฏ A ูู Master_CSV
- ูุซุงู: ุฅุฐุง ูุงู ูู DiscordMap ุนููุฏ A = "idakheel"
- ูุฌุจ ุฃู ูููู ูู Master_CSV ุนููุฏ A = "idakheel" (ููุณ ุงููููุฉ ุจุงูุถุจุท)

โ๏ธ **ุญุณุงุณูุฉ ุงูุฃุญุฑู:**
- ุงูููุงุฑูุฉ ุชุณุชุฎุฏู `.trim()` ูุฅุฒุงูุฉ ุงููุณุงูุงุช
- ููู ุญุณุงุณุฉ ูุญุงูุฉ ุงูุฃุญุฑู (Case-sensitive)
- "idakheel" โ "Idakheel" โ "IDAKHEEL"

---

## ุงูุฎูุงุตุฉ

ุชู ุชุญุฏูุซ ุฃูุงูุฑ `/move` ู `/hold` ู `/include` ููุนูู ุจูุธุงู ุฎุทูุชูู:
1. ุงูุจุญุซ ูู **DiscordMap** ููุญุตูู ุนูู Ingame-ID
2. ุงููุชุงุจุฉ ูู **Master_CSV** ุนููุฏ E

ูุฐุง ูุญู ูุดููุฉ "Player not found" ููุฌุนู ุงูุจูุช ูุนูู ุจุดูู ุตุญูุญ ูุน ุงููููู ุงูุญุงูู ููุตูุญุงุช.

---

**ุชู ุงูุชุทุจูู ูุงูุงุฎุชุจุงุฑ:** โ  
**ุงูุจูุช ุฌุงูุฒ ููุงุณุชุฎุฏุงู:** โ
