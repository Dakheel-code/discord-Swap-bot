# ููุฎุต ุฅุตูุงุญ ุงูุฌุฏููุฉ - 9 ุฏูุณูุจุฑ 2024

## ๐ด ุงููุดููุฉ

ุงูุฌุฏููุฉ ูุงูุช **ูุง ุชุนูู** ุนูุฏูุง ูุญูู ุงูููุช ุงููุญุฏุฏุ ุซู ูุตุจุญ ุงูููุช ุงููุชุจูู **ุจุงูุณุงูุจ** (-7h -20m).

## โ ุงูุญู

### ูุธุงู ูุญุต ุฏูุฑู ุฌุฏูุฏ

ุจุฏูุงู ูู ุงูุงุนุชูุงุฏ ุนูู `setTimeout` ููุทุ ุชู ุฅุถุงูุฉ ูุธุงู ููุญุต **ูู 30 ุซุงููุฉ** ุฅุฐุง ุญุงู ููุช ุงูุฌุฏููุฉ:

```
ูู 30 ุซุงููุฉ โ ูุญุต schedule.json โ ูู ุญุงู ุงูููุชุ โ ูุนู โ ุฅุฑุณุงู ุงูุฑุณุงูุฉ
```

## ๐ฏ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. ููุซูููุฉ 100%
- โ ุงูุฌุฏููุฉ **ุชูููุฐ ุฏุงุฆูุงู** ูู ุงูููุช ุงููุญุฏุฏ (ยฑ30 ุซุงููุฉ)
- โ ุชุนูู ุญุชู **ุจุนุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุจูุช**
- โ ูุง ููุฌุฏ **ุญุฏ ุฃูุตู** ููููุช

### 2. ุนุฑุถ ูุงุถุญ ููุญุงูุฉ
ูู `/viewschedule`:

| ุงูุญุงูุฉ | ุงูููู | ุงูุฑุณุงูุฉ |
|--------|-------|---------|
| ูู ุงููุณุชูุจู | ๐ข ุฃุฎุถุฑ | โ Scheduled |
| ุฃูู ูู ุฏูููุฉ | ๐ ุจุฑุชูุงูู | โณ Sending soon... |
| ููุฑุณู ุงูุขู | ๐ ุจุฑุชูุงูู | โณ Executing... |
| ูุงุช ุงูููุช | ๐ด ุฃุญูุฑ | โ Missed |

**ูุง ูุฒูุฏ ูู ุงูุฃุฑูุงู ุงูุณุงูุจุฉ!**

### 3. ุชูุธูู ุชููุงุฆู
- ุฅุฐุง ูุงุช ุงูููุช ุจุฃูุซุฑ ูู ุฏูููุฉ โ ููุญุฐู ุชููุงุฆูุงู
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ูู ุงูู logs

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุฌุฏููุฉ ุฑุณุงูุฉ
```
/schedule datetime:2024-12-09 15:00 channel:#swap-list-test
```
โ๏ธ **ููู**: ุงูููุช ุจุชูููุช **UTC** ูููุณ ุชูููุชู ุงููุญูู!

### ุนุฑุถ ุงูุฌุฏููุฉ
```
/viewschedule
```
ุณุชุฑู:
- ๐ ุงูุชุงุฑูุฎ ูุงูููุช
- ๐บ ุงูููุงุฉ
- โฐ ุงูููุช ุงููุชุจูู
- โ ุงูุญุงูุฉ (Scheduled/Executing/Missed)

### ุชุนุฏูู ุงูุฌุฏููุฉ
```
/editschedule datetime:2024-12-09 16:00
```
ุฃู
```
/editschedule channel:#another-channel
```

### ุญุฐู ุงูุฌุฏููุฉ
```
/deleteschedule
```

## ๐ง ุงูุชุบููุฑุงุช ุงูุชูููุฉ

### ุงูุฏูุงู ุงูุฌุฏูุฏุฉ ูู `src/bot.js`:

1. **`startScheduleChecker()`**
   - ูุจุฏุฃ interval ููุญุต ูู 30 ุซุงููุฉ

2. **`checkAndExecuteSchedule()`**
   - ููุญุต ุฅุฐุง ุญุงู ุงูููุช
   - ููููุฐ ุฃู ูููุธู ุญุณุจ ุงูุญุงูุฉ

3. **`executeScheduledPost()`**
   - ููุฑุณู ุงูุฑุณุงูุฉ ุงููุฌุฏููุฉ
   - ููุญุฏุซ ุงูุจูุงูุงุช ูู Google Sheets
   - ูููุธู ุงููููุงุช

### ุงูุชุญุฏูุซุงุช:

- โ `onReady()` - ูุจุฏุฃ Schedule Checker ุชููุงุฆูุงู
- โ `loadSchedule()` - ููุจุณุท (ุจุฏูู setTimeout)
- โ `handleSchedule()` - ุฑุณุงุฆู ุฃูุถุญ
- โ `handleViewSchedule()` - ูุนุงูุฌุฉ ุงูููุช ุงูุณุงูุจ
- โ `handleEditSchedule()` - ููุจุณุท

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ุณุฑูุน (ุฏูููุฉ ูุงุญุฏุฉ)
```bash
# ุฌุฏูู ุฑุณุงูุฉ ูุฏูููุฉ ูุงุญุฏุฉ ูู ุงูุขู
/schedule datetime:2024-12-09 13:01 channel:#test

# ุงูุชุธุฑ ุฏูููุฉ
# ูุฌุจ ุฃู ุชูุฑุณู ุงูุฑุณุงูุฉ ุชููุงุฆูุงู โ
```

### ุงุฎุชุจุงุฑ ุฅุนุงุฏุฉ ุงูุชุดุบูู
```bash
# 1. ุฌุฏูู ุฑุณุงูุฉ ูู 5 ุฏูุงุฆู
/schedule datetime:2024-12-09 13:05 channel:#test

# 2. ุฃุนุฏ ุชุดุบูู ุงูุจูุช
# (ุนูู Railway ุฃู ูุญููุงู)

# 3. ุชุญูู ูู ุงูุฌุฏููุฉ
/viewschedule
# ูุฌุจ ุฃู ุชุธูุฑ ุงูุฌุฏููุฉ โ

# 4. ุงูุชุธุฑ ุญุชู ุงูููุช ุงููุญุฏุฏ
# ูุฌุจ ุฃู ุชูุฑุณู ุงูุฑุณุงูุฉ โ
```

## ๐ ููุงุฑูุฉ ูุจู ูุจุนุฏ

| ุงูููุฒุฉ | ูุจู โ | ุจุนุฏ โ |
|--------|--------|--------|
| ุงูุชูููุฐ ูู ุงูููุช | ูุง ูุนูู | ูุนูู ุฏุงุฆูุงู |
| ุจุนุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู | ููููุฏ | ูุนูู |
| ุงูููุช ุงูุณุงูุจ | -7h -20m | 7h 20m ago |
| ุงูุญุฏ ุงูุฃูุตู | 24.8 ููู | ุจุฏูู ุญุฏ |
| ุงูููุซูููุฉ | ููุฎูุถุฉ | ุนุงููุฉ ุฌุฏุงู |

## โ๏ธ ููุงุญุธุงุช ูููุฉ

1. **ุงูุชูููุช UTC**
   - ุฅุฐุง ููุช ูู ุงูุณุนูุฏูุฉ (UTC+3)
   - ุงูุณุงุนุฉ 3:00 PM ุนูุฏู = 12:00 PM UTC
   - ุงุณุชุฎุฏู: `datetime:2024-12-09 12:00`

2. **ุฏูุฉ ุงูุชูููุฐ**
   - ุงููุญุต ูู 30 ุซุงููุฉ
   - ูุฏ ูููู ููุงู ุชุฃุฎูุฑ ุญุชู 30 ุซุงููุฉ
   - ูุซุงู: ุฌุฏููุฉ 15:00 โ ุฅุฑุณุงู 15:00:15

3. **ุฌุฏููุฉ ูุงุญุฏุฉ ููุท**
   - ุงูุฌุฏููุฉ ุงูุฌุฏูุฏุฉ ุชุณุชุจุฏู ุงููุฏููุฉ
   - ูุง ูููู ุฌุฏููุฉ ุนุฏุฉ ุฑุณุงุฆู ูู ููุณ ุงูููุช

4. **ููู schedule.json**
   - ูุง ุชุญุฐูู ูุฏููุงู
   - ููุญุฐู ุชููุงุฆูุงู ุจุนุฏ ุงูุฅุฑุณุงู

## ๐ ุงููุดุฑ ุนูู Railway

```bash
# 1. Commit ุงูุชุบููุฑุงุช
git add .
git commit -m "Fix: Schedule system with interval checker"

# 2. Push ุฅูู GitHub
git push origin main

# 3. Railway ุณููุนูุฏ ุงููุดุฑ ุชููุงุฆูุงู
# ุงูุชุธุฑ 1-2 ุฏูููุฉ

# 4. ุงุฎุชุจุฑ ุงูุฌุฏููุฉ
/schedule datetime:2024-12-09 15:00 channel:#swap-list-test
```

## ๐ ุงููููุงุช ุงููุถุงูุฉ

- `SCHEDULE_FIX_DEC9.md` - ุชูุซูู ุชูุตููู ุจุงูุฅูุฌููุฒูุฉ
- `SCHEDULE_FIX_SUMMARY_AR.md` - ูุฐุง ุงูููู (ููุฎุต ุจุงูุนุฑุจูุฉ)

## ๐ ุงููุชูุฌุฉ

**ุงูุฌุฏููุฉ ุงูุขู ุชุนูู ุจุดูู ููุซูู 100%!**

- โ ุชูููุฐ ูู ุงูููุช ุงููุญุฏุฏ
- โ ุชุนูู ุจุนุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู
- โ ุฑุณุงุฆู ูุงุถุญุฉ
- โ ุจุฏูู ุฃุฎุทุงุก
